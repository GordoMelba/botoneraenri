<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Botonera Enri - Catálogo Mayorista</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f5f6fa;
}

header {
  background: #1c3f99;
  color: white;
  padding: 15px 20px;
  font-weight: bold;
  font-size: 18px;
}

.container {
  display: flex;
  height: calc(100vh - 60px);
}

.sidebar {
  width: 220px;
  background: white;
  padding: 20px;
  border-right: 1px solid #ddd;
}

.sidebar h3 {
  margin-top: 0;
}

.category {
  padding: 10px;
  cursor: pointer;
  border-radius: 6px;
  margin-bottom: 5px;
}

.category:hover {
  background: #e8efff;
}

.main {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}

.products {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 15px;
}

.product {
  background: white;
  padding: 15px;
  border-radius: 8px;
  border: 1px solid #ddd;
  cursor: pointer;
}

.product:hover {
  border-color: #1c3f99;
}

.order {
  width: 350px;
  background: white;
  padding: 20px;
  border-left: 1px solid #ddd;
  display: flex;
  flex-direction: column;
}

textarea {
  width: 100%;
  height: 200px;
  margin-top: 10px;
}

button {
  padding: 10px;
  margin-top: 10px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
}

.copy-btn {
  background: #1c3f99;
  color: white;
}

.whatsapp-btn {
  background: #16a34a;
  color: white;
}
</style>
</head>

<body>

<header>
Botonera Enri - Catálogo Mayorista
</header>

<div class="container">

<div class="sidebar">
<h3>Categorías</h3>
<div class="category" onclick="loadCategory('metalicos')">Cierres metálicos</div>
<div class="category" onclick="loadCategory('plasticos')">Cierres plásticos</div>
<div class="category" onclick="loadCategory('botones')">Botones</div>
</div>

<div class="main">
<h2 id="categoryTitle">Productos</h2>
<div class="products" id="products"></div>
</div>

<div class="order">
<h3>Pedido mayorista</h3>
<div id="orderList"></div>

<textarea id="orderText" readonly></textarea>

<button class="copy-btn" onclick="copyText()">Copiar texto</button>
<button class="whatsapp-btn" onclick="sendWhatsApp()">Enviar por WhatsApp</button>
</div>

</div>

<script>

const catalog = {
metalicos: [
{
name: "Cierre bronce 4.5",
colors: ["Negro","Azul","Blanco"],
sizes: ["8","10","12"],
min: 50
}
],
plasticos: [
{
name: "Cierre plástico 5",
colors: ["Negro","Gris"],
sizes: ["50 cm","60 cm"],
min: 50
}
],
botones: [
{
name: "Botón metálico 18mm",
colors: ["Níquel","Dorado"],
sizes: ["18 mm"],
min: 100
}
]
};

let currentCategory = null;
let order = [];

function loadCategory(cat) {
currentCategory = cat;
document.getElementById("categoryTitle").innerText = cat.toUpperCase();
const container = document.getElementById("products");
container.innerHTML = "";

catalog[cat].forEach((p,i)=>{
container.innerHTML += `
<div class="product" onclick="openProduct(${i})">
<b>${p.name}</b><br>
Mínimo: ${p.min} unidades
</div>`;
});
}

function openProduct(index) {
const p = catalog[currentCategory][index];
const color = prompt("Elegí color:\n"+p.colors.join(", "));
if(!color) return;

const size = prompt("Elegí medida:\n"+p.sizes.join(", "));
if(!size) return;

let qty = prompt("Cantidad (mínimo "+p.min+")");
if(!qty || qty < p.min) {
alert("Cantidad mínima: "+p.min);
return;
}

addToOrder(p.name, color, size, qty);
}

function addToOrder(name,color,size,qty){
const item = `${name} - ${color} - ${size} - ${qty} unidades`;
order.push(item);
updateOrder();
}

function updateOrder(){
const list = document.getElementById("orderList");
list.innerHTML = "";
order.forEach(i=>{
list.innerHTML += "<div>"+i+"</div>";
});

document.getElementById("orderText").value =
"PEDIDO MAYORISTA\n\n" + order.join("\n");
}

function copyText(){
const text = document.getElementById("orderText");
text.select();
document.execCommand("copy");
alert("Texto copiado");
}

function sendWhatsApp(){
const number = prompt("Ingresá tu número WhatsApp con código país. Ej: 54911XXXXXXX");
if(!number) return;
const text = encodeURIComponent(document.getElementById("orderText").value);
window.open(`https://wa.me/${number}?text=${text}`);
}

</script>

</body>
</html>
